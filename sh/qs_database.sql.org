/*==============================================================*/
/* DBMS name:      MySQL 5.0                                    */
/* Created on:     2014/11/5 21:58:03                           */
/*==============================================================*/


alter table Area
   drop primary key;

drop table if exists Area;

alter table Question
   drop primary key;

drop table if exists Question;

alter table class
   drop primary key;

drop table if exists class;

alter table class__question
   drop primary key;

drop table if exists class__question;

alter table knowledge
   drop primary key;

drop table if exists knowledge;

alter table question__knowledge
   drop primary key;

drop table if exists question__knowledge;

alter table question_type
   drop primary key;

drop table if exists question_type;

alter table test_paper
   drop primary key;

drop table if exists test_paper;

alter table test_paper__question
   drop primary key;

drop table if exists test_paper__question;

alter table user
   drop primary key;

drop table if exists user;

/*==============================================================*/
/* Table: Area                                                  */
/*==============================================================*/
create table Area
(
   area_id              int not null auto_increment,
   name                 varchar(256),
   parent_id            int,
   remark               varchar(4096),
   user_id              int,
   crt_dt               timestamp,
   upd_dt               timestamp,
   is_del               int
);

alter table Area
   add primary key (area_id);

/*==============================================================*/
/* Table: Question                                              */
/*==============================================================*/
create table Question
(
   question_ID          int not null auto_increment,
   question_type_id     int,
   area_id              int,
   name                 varchar(200),
   origin_mark          int comment '原始分数',
   level                int comment '难度等级：   1,2,3， 初始可以分为： 难，中，易；以后可以，根据需要划分。',
   weight               numeric(20,4) comment '权重，以后如果有需要可以使用， 分析',
   title                varchar(4096),
   answer               varchar(20480),
   answer_1             varchar(20480),
   answer_2             varchar(20480),
   answer_3             varchar(20480),
   answer_4             varchar(20480),
   option_1             varchar(2048),
   option_2             varchar(2048),
   option_3             varchar(2048),
   option_4             varchar(2048),
   option_5             varchar(2048),
   option_6             varchar(2048),
   option_7             varchar(2048),
   option_9             varchar(2048),
   option_8             varchar(2048),
   option_10            varchar(2048),
   remark               varchar(4096),
   user_id              int,
   crt_dt               timestamp,
   upd_dt               timestamp,
   is_del               int
);

alter table Question
   add primary key (question_ID);

/*==============================================================*/
/* Table: class                                                 */
/*==============================================================*/
create table class
(
   class_id             int not null auto_increment,
   name                 varchar(256),
   remark               varchar(4096),
   user_id              int,
   crt_dt               timestamp,
   upd_dt               timestamp,
   is_del               int
);

alter table class
   add primary key (class_id);

/*==============================================================*/
/* Table: class__question                                       */
/*==============================================================*/
create table class__question
(
   cq_id                int not null auto_increment,
   question_id          int,
   class_id             int,
   remark               varchar(4096),
   user_id              int,
   crt_dt               timestamp,
   upd_dt               timestamp,
   is_del               int
);

alter table class__question
   add primary key (cq_id);

/*==============================================================*/
/* Table: knowledge                                             */
/*==============================================================*/
create table knowledge
(
   knowledge_id         int not null auto_increment,
   class_id             int,
   name                 varchar(4096),
   content              varchar(20480),
   level                int,
   remark               varchar(4096),
   user_id              int,
   crt_dt               timestamp,
   upd_dt               timestamp,
   is_del               int
);

alter table knowledge
   add primary key (knowledge_id);

/*==============================================================*/
/* Table: question__knowledge                                   */
/*==============================================================*/
create table question__knowledge
(
   qk_id                int not null auto_increment,
   question_id          int,
   knowledge_id         int,
   relevance            int default 100 comment '相关度--  0 ~100； 默认100',
   remark               varchar(4096),
   user_id              int,
   crt_dt               timestamp,
   upd_dt               timestamp,
   is_del               int
);

alter table question__knowledge
   add primary key (qk_id);

/*==============================================================*/
/* Table: question_type                                         */
/*==============================================================*/
create table question_type
(
   question_type_id     int not null,
   name                 varchar(256),
   remark               varchar(4096),
   user_id              int,
   crt_dt               timestamp,
   upd_dt               timestamp,
   is_del               int
);

alter table question_type
   add primary key (question_type_id);

/*==============================================================*/
/* Table: test_paper                                            */
/*==============================================================*/
create table test_paper
(
   test_paper_id        int not null,
   name                 varchar(2048),
   target_mark          int,
   remark               varchar(4096),
   crt_id               int,
   crt_dt               timestamp,
   upd_dt               timestamp,
   is_del               int
);

alter table test_paper
   add primary key (test_paper_id);

/*==============================================================*/
/* Table: test_paper__question                                  */
/*==============================================================*/
create table test_paper__question
(
   tpq_id               int not null auto_increment,
   question_id          int,
   test_paper_id        int,
   real_mark            int,
   remark               varchar(4096),
   user_id              int,
   crt_dt               timestamp,
   upd_dt               timestamp,
   is_del               int
);

alter table test_paper__question
   add primary key (tpq_id);

/*==============================================================*/
/* Table: user                                                  */
/*==============================================================*/
create table user
(
   user_id              int not null auto_increment,
   name                 varchar(256),
   title                varchar(256),
   remark               varchar(4096),
   crt_id               int,
   crt_dt               timestamp,
   upd_dt               timestamp,
   is_del               int
);

alter table user
   add primary key (user_id);

